%TAG !include! ./finetune.yaml
---
description: "Finetune model for 1 epoch, mostly for just testing the setup"
name: finetune-one-epochs

#checkpoint: /home/user/.cache/thesis/dev-checkpoints/pretrain/strats-epoch=3-val_epoch_loss=0.66-v1.ckpt
checkpoint: /home/user/.cache/thesis/checkpoints/pretrain/strats-epoch=0-val_epoch_loss=0.55.ckpt

module_config:
  optimizer:
    lr: 0.0

#__data_path__: &data_path ./src/util/tests/data

data_config:
  train:
    batch_size: 16
#    path: *data_path

  val:
    batch_size: 32
    repeat_times: 1
#    path: *data_path

  test:
    batch_size: 4
    repeat_times: 1
#    path: *data_path

trainer:
  max_epochs: 1
  val_check_interval: 1.0
  accumulate_grad_batches: 300
  gradient_clip_val: 0.0
